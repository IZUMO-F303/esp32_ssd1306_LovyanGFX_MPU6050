# ESP32_SSD1306_LovyanGFX_MPU6050

## 概要

このプロジェクトは、ESP32開発ボードを使用してI2C接続のSSD1306 OLEDディスプレイ2枚とMPU6050 6軸加速度センサーモジュールを制御します。
LovyanGFXライブラリを用いてOLEDにグラフィック表示を行い、Adafruit MPU6050ライブラリでセンサーデータを取得します。

具体的には、左側のOLEDディスプレイにはMPU6050から取得した加速度データを表示し、右側のOLEDディスプレイには加速度センサーの値に基づいた水平儀風のアニメーションを表示します。

## 特徴

-   **ESP32開発ボード対応**: ESP32チップを搭載した開発ボードで使用できます。
-   **デュアルSSD1306 OLEDサポート**: I2C接続の128x64ピクセルOLEDディスプレイを2枚同時に制御します。
-   **MPU6050センサー統合**: 6軸（加速度/ジャイロ）MPU6050センサーからデータを取得します。
-   **LovyanGFXによる高機能グラフィック**: 日本語フォントを含む柔軟な描画機能を提供します。
-   **リアルタイムデータ表示**: 左OLEDには加速度の生データ、右OLEDには視覚的な水平儀表示を行います。

## 開発環境

-   **IDE**: Visual Studio Code
-   **プラットフォーム**: PlatformIO IDE

## ハードウェア構成

以下の部品をESP32開発ボードに接続して使用します。

-   **ESP32開発ボード**
-   **SSD1306 OLEDディスプレイ** (128x64ピクセル, I2C接続) x 2枚
    -   左側ディスプレイのI2Cアドレス: `0x3C`
    -   右側ディスプレイのI2Cアドレス: `0x3D`
-   **MPU6050 6軸センサーモジュール** (I2C接続) x 1個
    -   I2Cアドレス: `0x68`

### 配線

I2Cデバイスは以下のピンに接続してください。

-   **I2C SDA (データ線)**: GPIO21
-   **I2C SCL (クロック線)**: GPIO22

## 使用ライブラリ

このプロジェクトは以下のPlatformIOライブラリを使用しています。

-   **LovyanGFX**: OLEDディスプレイのグラフィック描画に使用します。`lgfxJapanGothicP_16`フォントを使用し、日本語表示に対応しています。
-   **Adafruit MPU6050**: MPU6050センサーからのデータ取得に使用します。
-   **Adafruit Unified Sensor**: `Adafruit MPU6050`ライブラリの依存ライブラリです。
-   **Wire**: I2C通信に使用します。`LovyanGFX`の初期化（`lgfx_left.init()`や`lgfx_right.init()`）内で自動的に`Wire.begin()`が呼び出されるため、明示的に記述する必要はありません。ただし、MPU6050の`mpu.begin(0x68)`のように、特定のアドレスを指定して初期化する場合はその限りではありません。

## ビルドと書き込み

1.  Visual Studio Codeでこのプロジェクトを開きます。
2.  PlatformIOのビルド機能（`Ctrl+Alt+B` または左下のアリのアイコンから `Build`）を使用してプロジェクトをコンパイルします。
3.  ESP32ボードをPCに接続し、PlatformIOのアップロード機能（`Ctrl+Alt+U` または左下のアリのアイコンから `Upload`）を使用してファームウェアを書き込みます。

## 表示内容

-   **左OLED**:
    -   MPU6050から取得したX、Y、Z軸の加速度値 (`AX:`, `AY:`, `AZ:`) が表示されます。
-   **右OLED**:
    -   加速度センサーのY軸とZ軸の値に基づいて、画面中央の円内を動く小さなボールとして水平儀風のアニメーションが表示されます。これにより、デバイスの傾きを視覚的に確認できます。
